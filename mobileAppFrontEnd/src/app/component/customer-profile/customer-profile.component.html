<div class="container">
  <div class="row ">
    <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body">
          <div class="account-settings">
            <div class="user-profile">
              <div class="user-avatar">
                <img
                  src="https://bootdey.com/img/Content/avatar/avatar7.png"
                  alt="Maxwell Admin">
              </div>
              <h5 class="user-name">{{user.name}}</h5>
              <h6 class="user-email">{{user.email}}</h6>
            </div>
            <div class="about">
              <button *ngIf="user.status=='Active'" type="button" id="submit"
                name="submit" class="btn btn-secondary
                btn-margin px-3 mb-2" (click)="deactivateAccount()">Deactivate
                Account</button>
                <button *ngIf="user.status=='InActive'"type="button" id="submit"
                name="submit" class="btn btn-secondary
                btn-margin px-3 mb-2" (click)="activateAccount()">Activate
                Account</button>
              <button type="button" id="submit"
                name="submit" class="btn btn-secondary
                btn-margin px-3" (click)="loginService.logout()">Logout</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
      <div class="card h-100">
        <div class="card-body">

          <div class="row ">
            <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12
              col-12">
              <h6 class="mb-2 text-primary">Personal Details</h6>
            </div>

            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group" id="updateform">
                <label for="fullName">Full Name</label>
                <input type="text" class="form-control"
                  id="fullName" [(ngModel)]="user.name"
                  placeholder="Enter full name"
                  value="{{user.name}}"
                  #nameRef="ngModel" [disabled]="!isEditable"  pattern="^[a-zA-Z ]{3,}$"required autofocus
                  title="Username is required" />

                <div *ngIf="nameRef.invalid && (nameRef.dirty ||
                  nameRef.touched)">
                  <div *ngIf="nameRef.errors?.['required']"
                    class="text-right text-danger">Name is required.</div>
                    <div *ngIf="nameRef.errors?.['pattern']" class="text-right
                    text-danger">Name may only contain characters,
                    and must be minimum 3 digits</div>
                </div>

              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="text">Username</label>
                <input type="url" class="form-control"
                  id="website" placeholder="Website url"
                  value="{{user.userName}}" disabled>
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="eMail">Email</label>
                <input type="email" class="form-control"
                  id="eMail" placeholder="Enter email ID"
                  value="{{user.email}}" disabled>
              </div>
            </div>
            <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
              <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control"
                  id="phone" placeholder="Enter phone number"
                  value="{{user.mobileNo}}" disabled>
              </div>
            </div>

          </div>
          <div class="form-outline mb-4">
            <label class="form-label" for="address">Address</label>
            <textarea type="text" id="address"
              class="form-control" name="address"
              style="height: 50px;" maxlength="200"
              [(ngModel)]="user.address" [disabled]="!isEditable"
              value="{{user.address}}" #addressRef="ngModel" pattern="^(?=.{3,255}$).*" required></textarea>
            <div *ngIf="addressRef.invalid && (addressRef.dirty
              ||addressRef.touched)">
              <div *ngIf="addressRef.errors?.['required']"
                class="text-right text-danger">Address required.</div>
                <div *ngIf="addressRef.errors?.['pattern']"
              class="text-right text-danger">Address must be minumum 3 and maximum 255 Characters.
              .</div>

            </div>
          </div>

          <div class="row">
            <div class="text-right text-center">
              <button *ngIf="!isEditable" type="button" id="submit"
                name="submit" class="btn btn-primary
                btn-margin" (click)="editClicked()">Update Profile</button>
              <button *ngIf="isEditable" type="button " id="submit"
                name="submit" class="btn btn-primary
                btn-margin px-3" (click)="updateCustomerData()">Save Profile</button>
              <button *ngIf="isEditable" type="button" id="submit"
                name="submit" class="btn btn-secondary
                btn-margin px-3" (click)=" onCancel() ">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
